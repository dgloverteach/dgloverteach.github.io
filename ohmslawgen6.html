<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ohm's and Watts Law Question Generator</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.3.1/jspdf.umd.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        .container {
            max-width: 800px;
            margin: auto;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 10px;
        }
        .hidden {
            display: none;
        }
        .calculator {
            display: grid;
            grid-template-columns: repeat(4, 48px);
            gap: 10px;
        }
        .calculator button {
            width: 48px;
            height: 48px;
        }
        .result {
            font-weight: bold;
            margin-top: 20px;
        }
        #notification {
            color: red;
            margin-top: 10px;
        }
    </style>
</head>
<body>
<div class="container">
    <h1>Ohm's and Watts Law Question Generator</h1>
    <button onclick="showInstructions()">Show Instructions</button>

    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Ohm's and Watt's Law Instructions</title>
        <style>
            /* Basic Modal Styles */
            .modal {
                display: none; 
                position: fixed;
                z-index: 1;
                padding-top: 80px;
                left: 0;
                top: 0;
                width: 100%;
                height: 100%;
                overflow: auto;
                background-color: rgb(0,0,0);
                background-color: rgba(0,0,0,0.4);
            }    
    
            .modal-content {
                background-color: #fefefe;
                margin: auto;
                padding: 20px;
                border: 1px solid #888;
                width: 80%;
                font-family: Courier;
                
            }
    
            .close {
                color: #aaa;
                float: right;
                font-size: 28px;
                font-weight: bold;
            }
    
            .close:hover, .close:focus {
                color: black;
                text-decoration: none;
                cursor: pointer;
            }
    
        </style>
    </head>
    <body>
    
        <!-- Buttons to Open Modals -->
        <button id="ohmsLawBtn" class="button">Ohm's Law Instructions</button>
        <button id="wattsLawBtn" class="button">Watt's Law Instructions</button>
    
        <!-- Modal for Ohm's Law -->
        <div id="ohmsLawModal" class="modal">
            <div class="modal-content">
                <span class="close" id="closeOhmsLaw">&times;</span>
                <h2>Instructions: Using Ohm's Law</h2>
                <p>Ohm's Law is a fundamental principle in electrical engineering that describes the relationship between voltage (V), current (I), and resistance (R) in an electrical circuit. It can be expressed mathematically as:</p>
                <p><strong>I = V / R</strong></p>
                <p>Where:</p>
                <ul>
                    <li><strong>I</strong> = Current (in Amperes, A)</li>
                    <li><strong>V</strong> = Voltage (in Volts, V)</li>
                    <li><strong>R</strong> = Resistance (in Ohms, Ω)</li>
                </ul>
                <h3>Understanding the Law:</h3>
                <p>Ohm's Law indicates that:</p>
                <ul>
                    <li>As the voltage increases, the current also increases, provided the resistance remains constant. This implies that higher voltage will drive more current through the same resistance.</li>
                    <li>As the resistance increases, the current decreases if the voltage remains constant. This shows that higher resistance will impede current flow.</li>
                    <li>The relationship is linear; a graph of current vs. voltage will yield a straight line for a given resistor.</li>
                </ul>
                <h3>Practical Applications:</h3>
                <p>Ohm's Law is widely used in designing and analyzing electrical circuits. It helps engineers and technicians determine the right components to use based on the desired current and voltage levels.</p>
                <h3>Examples:</h3>
                <ul>
                    <li><strong>Example 1:</strong> Find the current when the voltage is 12V and the resistance is 3Ω.<br>
                        Calculation: <br>
                        <code>I = V / R = 12V / 3Ω = 4A</code>
                    </li>
                    <li><strong>Example 2:</strong> Find the resistance when the voltage is 24V and the current is 2A.<br>
                        Calculation: <br>
                        <code>R = V / I = 24V / 2A = 12Ω</code>
                    </li>
                    <li><strong>Example 3:</strong> Find the voltage when the current is 5A and the resistance is 10Ω.<br>
                        Calculation: <br>
                        <code>V = I × R = 5A × 10Ω = 50V</code>
                    </li>
                    <li><strong>Example 4:</strong> If the current is 0.5A and the resistance is 8Ω, find the voltage.<br>
                        Calculation: <br>
                        <code>V = I × R = 0.5A × 8Ω = 4V</code>
    
                        <br>
                    </ul>

                    <a href="https://www.youtube.com/watch?v=99QyGTP29ZY" class="button" target="_blank">How to use Ohm's Law, Watt's Law & the Power Wheel</a>

                    <p>A D.Glover program </p>
                    <br>
                    <br>
                    <br>
                    <br>
                    </li>
                </ul>
            </div>
        </div>
    
        <!-- Modal for Watt's Law -->
        <div id="wattsLawModal" class="modal">
            <div class="modal-content">
                <span class="close" id="closeWattsLaw">&times;</span>
                <h2>Instructions: Using Watt's Law</h2>
                <p>Watt's Law relates the power (P) in an electrical circuit to the voltage (V) and the current (I) flowing through it. The law is expressed mathematically as:</p>
                <p><strong>P = V × I</strong></p>
                <p>Where:</p>
                <ul>
                    <li><strong>P</strong> = Power (in Watts, W)</li>
                    <li><strong>V</strong> = Voltage (in Volts, V)</li>
                    <li><strong>I</strong> = Current (in Amperes, A)</li>
                </ul>
                <h3>Understanding the Law:</h3>
                <p>Watt's Law shows that:</p>
                <ul>
                    <li>Increasing the voltage will result in an increase in power consumption if the current remains constant.</li>
                    <li>Increasing the current will also lead to an increase in power if the voltage stays the same.</li>
                    <li>This law is fundamental in calculating the energy consumption of electrical devices, allowing for better design and efficiency.</li>
                </ul>
                <h3>Practical Applications:</h3>
                <p>Watt's Law is critical in power calculations for electrical devices, allowing engineers to determine how much power is required to run various components safely and efficiently.</p>
                <h3>Examples:</h3>
                <ul>
                    <li><strong>Example 1:</strong> Calculate the power when the voltage is 120V and the current is 2A.<br>
                        Calculation: <br>
                        <code>P = V × I = 120V × 2A = 240W</code>
                    </li>
                    <li><strong>Example 2:</strong> If the power is 600W and the voltage is 300V, find the current.<br>
                        Calculation: <br>
                        <code>I = P / V = 600W / 300V = 2A</code>
                    </li>
                    <li><strong>Example 3:</strong> Find the voltage if the power is 1500W and the current is 6A.<br>
                        Calculation: <br>
                        <code>V = P / I = 1500W / 6A = 250V</code>
                    </li>
                    <li><strong>Example 4:</strong> Calculate the power when the voltage is 9V and the current is 0.5A.<br>
                        Calculation: <br>
                        <code>P = 9V × 0.5A = 4.5W</code>
                        <br>
                    </ul>

                    <a href="https://www.youtube.com/watch?v=99QyGTP29ZY" class="button" target="_blank">How to use Ohm's Law, Watt's Law & the Power Wheel</a>

                    <p>A D.Glover program </p>
                    <br>
                    <br>
                    <br>
                    <br>
                    </li>
                </ul>
            </div>
        </div>
    
        <script>
            // Modal Logic for Ohm's Law
            const ohmsLawModal = document.getElementById('ohmsLawModal');
            const ohmsLawBtn = document.getElementById('ohmsLawBtn');
            const closeOhmsLaw = document.getElementById('closeOhmsLaw');
    
            // Open Ohm's Law modal
            ohmsLawBtn.onclick = function() {
                ohmsLawModal.style.display = 'block';
            };
    
            // Close Ohm's Law modal
            closeOhmsLaw.onclick = function() {
                ohmsLawModal.style.display = 'none';
            };
    
            // Modal Logic for Watt's Law
            const wattsLawModal = document.getElementById('wattsLawModal');
            const wattsLawBtn = document.getElementById('wattsLawBtn');
            const closeWattsLaw = document.getElementById('closeWattsLaw');
    
            // Open Watt's Law modal
            wattsLawBtn.onclick = function() {
                wattsLawModal.style.display = 'block';
            };
    
            // Close Watt's Law modal
            closeWattsLaw.onclick = function() {
                wattsLawModal.style.display = 'none';
            };
    
            // Close modals if the user clicks outside of them
            window.onclick = function(event) {
                if (event.target === ohmsLawModal) {
                    ohmsLawModal.style.display = 'none';
                } else if (event.target === wattsLawModal) {
                    wattsLawModal.style.display = 'none';
                }
            };
        </script>
    
    </body>
    </html>
    

    <div>
        <label for="studentName">Student Name:</label>
        <input type="text" id="studentName" placeholder="Enter your name">

        <label for="studentNumber">Student Number:</label>
        <input type="text" id="studentNumber" placeholder="Enter your student number">
    </div>

    <div>
        <label>
            <input type="radio" name="questionType" value="Random" checked>
            Random
        </label>
        <label>
            <input type="radio" name="questionType" value="Ohm's Law">
            Ohm's Law
        </label>
        <label>
            <input type="radio" name="questionType" value="Watts Law">
            Watts Law
        </label>
    </div>

    <div id="questionContainer">
        <h2 id="question"></h2>
        <input type="text" id="answerInput" placeholder="Enter your answer">
        <button onclick="checkAnswer()">Submit</button>
        <button id="nextQuestionBtn" onclick="nextQuestion()" disabled>Next Question</button>
    </div>

    <div id="notification"></div>

    <div>
        <button onclick="saveHistory()">Save History to PDF</button>
        <button onclick="confirmResetHistory()">Reset History</button>
    </div>

    <div id="result" class="result"></div>

    <button onclick="toggleCalculator()">Toggle Calculator</button>
    <div id="calculator" class="hidden">
        <input type="text" id="calcDisplay" disabled>
        <div class="calculator">
            <button onclick="addToExpression('1')">1</button>
            <button onclick="addToExpression('2')">2</button>
            <button onclick="addToExpression('3')">3</button>
            <button onclick="addToExpression('/')">÷</button>
            <button onclick="addToExpression('4')">4</button>
            <button onclick="addToExpression('5')">5</button>
            <button onclick="addToExpression('6')">6</button>
            <button onclick="addToExpression('*')">x</button>
            <button onclick="addToExpression('7')">7</button>
            <button onclick="addToExpression('8')">8</button>
            <button onclick="addToExpression('9')">9</button>
            <button onclick="addToExpression('-')">-</button>
            <button onclick="addToExpression('0')">0</button>
            <button onclick="addToExpression('.')">.</button>
            <button onclick="calculate()">=</button>
            <button onclick="addToExpression('+')">+</button>
            <button onclick="clearExpression()">C</button>
            <button onclick="backspace()">⌫</button>
        </div>
        <div id="calcResult" class="result"></div>
    </div>
 <!-- Back to Home Page Button -->
 <button class="back-button" onclick="confirmReturnToHomePage()">Back to Home Page</button>
</div>

<script>
    let history = [];
    let totalCorrect = 0;
    let totalIncorrect = 0;
    let totalRandomCorrect = 0;
    let currentQuestion = '';
    let currentAnswer = 0;
    let currentUnit = '';

    document.addEventListener('DOMContentLoaded', () => {
        showInstructions();
        nextQuestion();
    });

    function showInstructions() {
        alert("Instructions - READ CAREFULLY!!\n\n" +
              "1. Enter your Name and Student Number.\n" +
              "2. Select the type of question - 'Random' is selected by default (Ohm's Law or Watts Law).\n" +
              "3. Enter your answer in the input box (round to TWO decimal places .00) and press 'Submit'.\n" +
              "4. Your answer will be checked, and you can see your results.\n" +
              "5. Click 'Next Question' to move on after submitting your answer.\n" +
              "6. Save your question history as a PDF when needed. Pay attention to where you save it.\n" +
              "7. Use the calculator for any calculations.\n\n" +
              "A D.Glover program");
    }

    function generateOhmsLawQuestion() {
        const variables = ['E', 'I', 'R'];
        const unknown = variables[Math.floor(Math.random() * variables.length)];

        let question, answer, unit;
        if (unknown === 'E') {
            const I = (Math.random() * 9.9 + 0.1).toFixed(2);
            const R = (Math.random() * 999 + 1).toFixed(2);
            question = `Calculate the voltage (E) when current (I) is ${I} A and resistance (R) is ${R} Ω.`;
            answer = (I * R).toFixed(2);
            unit = 'V';
        } else if (unknown === 'I') {
            const E = (Math.random() * 99 + 1).toFixed(2);
            const R = (Math.random() * 999 + 1).toFixed(2);
            question = `Calculate the current (I) when voltage (E) is ${E} V and resistance (R) is ${R} Ω.`;
            answer = (E / R).toFixed(2);
            unit = 'A';
        } else {
            const E = (Math.random() * 99 + 1).toFixed(2);
            const I = (Math.random() * 9.9 + 0.1).toFixed(2);
            question = `Calculate the resistance (R) when voltage (E) is ${E} V and current (I) is ${I} A.`;
            answer = (E / I).toFixed(2);
            unit = 'Ω';
        }

        return {question, answer, unit};
    }

    function generateWattsLawQuestion() {
        const variables = ['P', 'I', 'E'];
        const unknown = variables[Math.floor(Math.random() * variables.length)];

        let question, answer, unit;
        if (unknown === 'P') {
            const I = (Math.random() * 9.9 + 0.1).toFixed(2);
            const E = (Math.random() * 99 + 1).toFixed(2);
            question = `Calculate the power (P) when current (I) is ${I} A and voltage (E) is ${E} V.`;
            answer = (I * E).toFixed(2);
            unit = 'W';
        } else if (unknown === 'I') {
            const P = (Math.random() * 99 + 1).toFixed(2);
            const E = (Math.random() * 99 + 1).toFixed(2);
            question = `Calculate the current (I) when power (P) is ${P} W and voltage (E) is ${E} V.`;
            answer = (P / E).toFixed(2);
            unit = 'A';
        } else {
            const P = (Math.random() * 99 + 1).toFixed(2);
            const I = (Math.random() * 9.9 + 0.1).toFixed(2);
            question = `Calculate the voltage (E) when power (P) is ${P} W and current (I) is ${I} A.`;
            answer = (P / I).toFixed(2);
            unit = 'V';
        }

        return {question, answer, unit};
    }

    function checkAnswer() {
    const answerInput = document.getElementById('answerInput').value;
    if (isNaN(answerInput) || answerInput.trim() === '') {
        document.getElementById('notification').innerText = 'Please enter a valid number.';
        return;
    }
    const userAnswer = parseFloat(answerInput);
    let result;
    if (Math.abs(userAnswer - currentAnswer) < 0.01) {
        result = `Correct! Answer: ${currentAnswer} ${currentUnit}`;
        totalCorrect++;
        if (document.querySelector('input[name="questionType"]:checked').value === "Random") {
            totalRandomCorrect++;
        }
    } else {
        result = `Incorrect. The correct answer is ${currentAnswer} ${currentUnit}.`;
        totalIncorrect++;
    }

    history.push({question: currentQuestion, userAnswer, result, type: document.querySelector('input[name="questionType"]:checked').value});
    document.getElementById('result').innerText = result;
    document.getElementById('notification').innerText = `Question ${history.length} submitted.`;
    document.getElementById('nextQuestionBtn').disabled = false; // Enable "Next Question" button
    document.querySelector('button[onclick="checkAnswer()"]').disabled = true; // Disable "Submit" button
}

function nextQuestion() {
    const questionType = document.querySelector('input[name="questionType"]:checked').value;
    let questionData;
    if (questionType === "Random") {
        const randomType = Math.random() < 0.5 ? "Ohm's Law" : "Watts Law";
        questionData = randomType === "Ohm's Law" ? generateOhmsLawQuestion() : generateWattsLawQuestion();
    } else if (questionType === "Ohm's Law") {
        questionData = generateOhmsLawQuestion();
    } else {
        questionData = generateWattsLawQuestion();
    }
    currentQuestion = questionData.question;
    currentAnswer = questionData.answer;
    currentUnit = questionData.unit;

    document.getElementById('question').innerText = currentQuestion;
    document.getElementById('answerInput').value = '';
    document.getElementById('result').innerText = '';
    document.getElementById('notification').innerText = ''; // Clear notification
    document.getElementById('nextQuestionBtn').disabled = true; // Disable "Next Question" button
    document.querySelector('button[onclick="checkAnswer()"]').disabled = false; // Re-enable "Submit" button
}


    function saveHistory() {
        const { jsPDF } = window.jspdf;
        const doc = new jsPDF();

        const studentName = document.getElementById('studentName').value;
        const studentNumber = document.getElementById('studentNumber').value;
        const fileName = `${studentName}_${studentNumber}_Ohm's & Watt's Law Questions.pdf`;

        doc.setFontSize(12);
        doc.text(`Student Name: ${studentName}`, 10, 10);
        doc.text(`Student Number: ${studentNumber}`, 10, 20);

        // Add summary
        const totalQuestions = history.length;
        const ohmsCorrect = history.filter(entry => entry.type === "Ohm's Law" && entry.result.includes('Correct')).length;
        const wattsCorrect = history.filter(entry => entry.type === "Watts Law" && entry.result.includes('Correct')).length;

        doc.text(`Total Questions Answered: ${totalQuestions}`, 10, 30);
        doc.text(`Total Correct: ${totalCorrect}`, 10, 40);
        doc.text(`Total Ohm's Law Correct: ${ohmsCorrect}`, 10, 50);
        doc.text(`Total Watts Law Correct: ${wattsCorrect}`, 10, 60);
        doc.text(`Total Random Correct: ${totalRandomCorrect}`, 10, 70);

        let y = 80;
        history.forEach((entry, index) => {
            doc.text(`${index + 1}. Question: ${entry.question}`, 10, y, { maxWidth: 180 });
            y += 10;
            doc.text(`Your Answer: ${entry.userAnswer}`, 10, y, { maxWidth: 180 });
            y += 10;
            doc.text(`Result: ${entry.result}`, 10, y, { maxWidth: 180 });
            y += 20;
            if (y > 280) {
                doc.addPage();
                y = 10;
            }
        });

        doc.save(fileName);
    }

    function confirmResetHistory() {
        if (confirm('Are you sure you want to reset the history?')) {
            resetHistory();
        }
    }

    function resetHistory() {
        history = [];
        totalCorrect = 0;
        totalIncorrect = 0;
        totalRandomCorrect = 0;
        document.getElementById('result').innerText = '';
        document.getElementById('notification').innerText = ''; // Clear notification
        alert('History has been reset.');
    }

    function toggleCalculator() {
        const calculator = document.getElementById('calculator');
        calculator.classList.toggle('hidden');
    }

    function addToExpression(value) {
        const display = document.getElementById('calcDisplay');
        display.value += value;
    }

    function backspace() {
    const display = document.getElementById('calcDisplay');
    display.value = display.value.slice(0, -1); // Remove the last character
    }

    function calculate() {
        const display = document.getElementById('calcDisplay');
        try {
            display.value = eval(display.value);
            document.getElementById('calcResult').innerText = `Result: ${display.value}`;
        } catch (e) {
            document.getElementById('calcResult').innerText = 'Error';
        }
    }

    function clearExpression() {
        document.getElementById('calcDisplay').value = '';
        document.getElementById('calcResult').innerText = '';
    }

    function confirmReturnToHomePage() {
        if (confirm('Are you sure you want to go back to the home page?')) {
            window.location.href = 'https://dgloverteach.github.io/';
        }
    }

</script>
</body>
</html>
